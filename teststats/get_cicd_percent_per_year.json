"{\n    \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n    \"data\": { \"values\": [\n       {\"year\": \"2012\" , \"cicd\": \"yes\" , \"people\": 1172},{\"year\": \"2012\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2013\" , \"cicd\": \"yes\" , \"people\": 1552},{\"year\": \"2013\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2014\" , \"cicd\": \"yes\" , \"people\": 2128},{\"year\": \"2014\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2015\" , \"cicd\": \"yes\" , \"people\": 2178},{\"year\": \"2015\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2016\" , \"cicd\": \"yes\" , \"people\": 2283},{\"year\": \"2016\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2017\" , \"cicd\": \"yes\" , \"people\": 2192},{\"year\": \"2017\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2018\" , \"cicd\": \"yes\" , \"people\": 2018},{\"year\": \"2018\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2019\" , \"cicd\": \"yes\" , \"people\": 1639},{\"year\": \"2019\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2020\" , \"cicd\": \"yes\" , \"people\": 1331},{\"year\": \"2020\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2021\" , \"cicd\": \"yes\" , \"people\": 1011},{\"year\": \"2021\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2022\" , \"cicd\": \"yes\" , \"people\": 790},{\"year\": \"2022\" , \"cicd\": \"no\" , \"people\": 0},{\"year\": \"2023\" , \"cicd\": \"yes\" , \"people\": 401},{\"year\": \"2023\" , \"cicd\": \"no\" , \"people\": 0}\n    ]},\n     \"transform\": [\n    {\n      \"joinaggregate\": [{\"op\": \"sum\", \"field\": \"people\", \"as\": \"total\"}],\n      \"groupby\": [\"year\"]\n    },\n    {\"calculate\": \"datum.people / datum.total\", \"as\": \"fraction\"}\n  ],\n  \"encoding\": {\n    \"y\": {\n      \"aggregate\": \"sum\",\n      \"field\": \"people\",\n      \"title\": \"population\",\n      \"stack\": \"normalize\"\n    },\n    \"order\": {\"field\": \"cicd\", \"sort\": \"descending\"},\n    \"x\": {\"field\": \"year\", \"type\": \"ordinal\"},\n    \"color\": {\n      \"field\": \"cicd\",\n      \"type\": \"nominal\",\n      \"scale\": {\"range\": [\"#675193\", \"#ca8861\"]}\n    }\n  },\n  \"layer\": [\n    {\"mark\": \"bar\"},\n    {\n      \"mark\": {\"type\": \"text\", \"dx\": 20, \"dy\": 0, \"angle\": 90},\n      \"encoding\": {\n        \"color\": {\"value\": \"white\"},\n        \"text\": {\"field\": \"fraction\", \"type\": \"quantitative\", \"format\": \".1%\"}\n      }\n    }\n  ]\n    }\n  \n  "